{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useState, useEffect, useRef } from 'react';\nimport { Query, useQuery } from \"react-apollo\";\nimport { gql } from \"apollo-boost\";\nimport MovieDetail from \"./MovieDetail\";\nimport MovieImage from \"../common/MovieImage\";\nimport CancelIcon from \"../../common/assets/cancel.svg\";\nconst GET_MOVIE = gql`\n    query movie($movieCd: String!) {\n        movie(movieCd: $movieCd){\n            actorNm,\n            genreNm,\n            movieCd,\n            movieNm,\n            nationNm,\n            openDt,\n            peopleNm,\n            showTm,\n            watchGradeNm\n        }\n    }\n`;\nexport default function MovieWrapper(props) {\n  const {\n    0: movieTitle,\n    1: setMovieTitle\n  } = useState('');\n  const {\n    0: popupFadedFlag,\n    1: setPopupFadedFlag\n  } = useState(false);\n  const movieRef = useRef();\n  const popupFlag = props.popupFlag;\n  useEffect(() => {\n    const mtg = movieRef.current;\n\n    if (popupFlag) {\n      mtg.style.display = 'inline-block';\n      mtg.style.opacity = 0;\n      setTimeout(() => {\n        mtg.style.opacity = 1;\n      }, 500);\n    } else {\n      mtg.style.opacity = 0;\n      setTimeout(() => {\n        mtg.style.display = 'none';\n      }, 700);\n    }\n  }, [popupFlag, popupFlag]);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    ref: movieRef,\n    className: \"jsx-312362942\" + \" \" + 'movie-wrapper'\n  }, __jsx(\"div\", {\n    className: \"jsx-312362942\" + \" \" + 'movie-wrapper-bg'\n  }), __jsx(\"div\", {\n    onClick: e => {\n      props.onClosePopup();\n    },\n    className: \"jsx-312362942\" + \" \" + 'movie-popup'\n  }, __jsx(\"div\", {\n    onClick: e => {\n      e.stopPropagation();\n    },\n    className: \"jsx-312362942\" + \" \" + 'movie-popup-wrap'\n  }, __jsx(\"div\", {\n    className: \"jsx-312362942\" + \" \" + 'movie-header'\n  }, __jsx(\"div\", {\n    className: \"jsx-312362942\" + \" \" + 'movie-header-title'\n  }, props.movieTitle), __jsx(\"div\", {\n    onClick: props.onClosePopup,\n    className: \"jsx-312362942\" + \" \" + 'cancel-btn'\n  }, __jsx(CancelIcon, {\n    width: 20,\n    height: 20\n  }))), __jsx(\"div\", {\n    className: \"jsx-312362942\" + \" \" + 'movie-info'\n  }, __jsx(\"div\", {\n    className: \"jsx-312362942\" + \" \" + 'movie-content'\n  }, __jsx(Query, {\n    query: GET_MOVIE,\n    variables: {\n      movieCd: props.movieCd\n    }\n  }, ({\n    loading,\n    error,\n    data\n  }) => {\n    if (loading) return __jsx(\"div\", {\n      className: \"jsx-312362942\" + \" \" + 'movie-content-load'\n    }, \"loading...\");\n    if (error) return __jsx(\"div\", {\n      className: \"jsx-312362942\" + \" \" + 'movie-content-error'\n    }, \"error...\");\n\n    if (data && data.movie) {\n      props.onChangeMovieTitle(data.movie.name);\n      return __jsx(React.Fragment, null, __jsx(MovieImage, {\n        movieCd: data.movie.movieCd,\n        imgLoadFlag: true,\n        posterViewMode: 'movie'\n      }), __jsx(MovieDetail, data.movie));\n    } else {\n      return __jsx(\"div\", {\n        className: \"jsx-312362942\"\n      }, \"???\");\n    }\n  })))))), __jsx(_JSXStyle, {\n    id: \"312362942\"\n  }, [\".movie-wrapper.jsx-312362942{width:100vw;height:100vh;position:fixed;z-index:999;display:none;-webkit-transition: opacity 0.5s linear;transition: opacity 0.5s linear;}\", \".movie-wrapper-bg.jsx-312362942{width:100%;height:100%;display:inline-block;background:rgba(10,10,10,0.5);position:absolute;left:0;top:0;}\", \".movie-popup.jsx-312362942{width:100%;height:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-transition:all 0.5s;transition:all 0.5s;position:relative;}\", \".movie-popup-wrap.jsx-312362942{display:inline-block;background:#fff;position:relative;min-width:120px;overflow:hidden;border-radius:5px;max-height:90%;max-width:90%;-webkit-transition:all 0.5s;transition:all 0.5s;z-index:2;}\", \".movie-header.jsx-312362942{width:100%;display:inline-block;background:#e34236;padding:15px 7px;height:60px;top:0;position:absolute;z-index:2;}\", \".movie-header-title.jsx-312362942{font-size:24px;color:#fff;font-weight:bold;margin-left:30px;}\", \".cancel-btn.jsx-312362942{position:absolute;top:15px;right:25px;font-size:14px;color:#777;cursor:pointer;border-radius:20px;-webkit-transition:all 0.9s;transition:all 0.9s;padding:3px 4px;}\", \".movie-cancel-btn.jsx-312362942::before,.movie-cancel-btn.jsx-312362942::after{content:'';display:block;width:0%;height:0%;border:1.5px solid transparent;z-index:4;position:absolute;}\", \".movie-cancel-btn.jsx-312362942::before{top:-7.5px;left:-12px;-webkit-transition: width 0.2s ease-in-out 0s, height 0.2s ease-in-out 0.2s;transition: width 0.2s ease-in-out 0s, height 0.2s ease-in-out 0.2s;}\", \".movie-cancel-btn.jsx-312362942::after{bottom:-7.5px;right:-12px;-webkit-transition: width 0.2s ease-in-out 0.4s, height 0.2s ease-in-out 0.6s, border-color 0s ease-in-out 0.4s;transition: width 0.2s ease-in-out 0.4s, height 0.2s ease-in-out 0.6s, border-color 0s ease-in-out 0.4s;}\", \".movie-cancel-btn.jsx-312362942:hover.jsx-312362942::before,.movie-cancel-btn.jsx-312362942:hover.jsx-312362942::after{width:calc(100% + 20px);height:calc(100% + 12px);}\", \".movie-cancel-btn.jsx-312362942:hover.jsx-312362942::before{border-top-color:#333;border-right-color:#333;-webkit-transition: width 0.2s ease-in-out 0s, height 0.2s ease-in-out 0.2s;transition: width 0.2s ease-in-out 0s, height 0.2s ease-in-out 0.2s;}\", \".movie-cancel-btn.jsx-312362942:hover.jsx-312362942::after{border-bottom-color:#333;border-left-color:#333;-webkit-transition: width 0.2s ease-in-out 0.4s, height 0.2s ease-in-out 0.6s, border-color 0s ease-in-out 0.4s;transition: width 0.2s ease-in-out 0.4s, height 0.2s ease-in-out 0.6s, border-color 0s ease-in-out 0.4s;}\", \".movie-info.jsx-312362942{width:100%;margin-top:60px;height:calc(100% - 60px);overflow:auto;}\", \".movie-content-load.jsx-312362942,.movie-content-error.jsx-312362942{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direciton:column;-ms-flex-direciton:column;flex-direciton:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}\", \".movie-content.jsx-312362942{width:100%;position:relative;padding:20px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;}\"]));\n}","map":null,"metadata":{},"sourceType":"module"}