{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nimport _JSXStyle from \"styled-jsx/style\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createForOfIteratorHelper(o) { if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) { if (Array.isArray(o) || (o = _unsupportedIterableToArray(o))) { var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var it, normalCompletion = true, didErr = false, err; return { s: function s() { it = o[Symbol.iterator](); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(n); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n        query rankItems($date: String!){\\n            rankItems(date: $date) {    \\n                movieCd\\n                rank\\n                rankInten\\n                isNewRanked\\n                name\\n                openDate\\n                salesAcc\\n                audiAcc\\n            }\\n        }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport { useState, useEffect, useContext } from 'react';\nimport MovieItem from \"./MovieItem\";\nimport { Query } from \"react-apollo\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport { gql } from \"apollo-boost\";\nimport { MovieContext } from \"../../pages\";\nimport { toDateFormat } from \"../../common/util\";\nvar GET_RANK_ITEMS = gql(_templateObject());\nexport default function MovieList() {\n  var _useContext = useContext(MovieContext),\n      nDate = _useContext.nDate;\n\n  useEffect(function () {}, []);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"jsx-3050782061\" + \" \" + \"list-inner\"\n  }, __jsx(Query, {\n    query: GET_RANK_ITEMS,\n    variables: {\n      date: toDateFormat(new Date(nDate.getTime() - 1000 * 60 * 60 * 24))\n    }\n  }, function (_ref) {\n    var loading = _ref.loading,\n        error = _ref.error,\n        data = _ref.data;\n    //console.log(loading, error, data);\n    if (loading) return __jsx(\"div\", {\n      className: \"jsx-3050782061\" + \" \" + \"list-load\"\n    }, \"Loading...\");\n\n    if (error) {\n      //console.log(error);\n      return __jsx(\"div\", {\n        className: \"jsx-3050782061\" + \" \" + \"list-error\"\n      }, __jsx(\"span\", {\n        className: \"jsx-3050782061\"\n      }, \"\\uD83D\\uDE20\"), __jsx(\"br\", {\n        className: \"jsx-3050782061\"\n      }), \"\\uC624\\uB958\\uAC00 \\uBC1C\\uC0DD\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uD398\\uC774\\uC9C0\\uB97C \\uC0C8\\uB85C\\uACE0\\uCE68\\uD558\\uC2DC\\uAC70\\uB098 \\uAD00\\uB9AC\\uC790\\uC5D0\\uAC8C \\uBB38\\uC758\\uD558\\uC138\\uC694.\");\n    }\n\n    if (data) {\n      //console.log(data);\n      var dList = data.rankItems;\n      var itemList = [];\n      var key = 0;\n\n      var _iterator = _createForOfIteratorHelper(dList),\n          _step;\n\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var item = _step.value;\n          itemList.push(__jsx(MovieItem, _extends({\n            key: key++\n          }, item)));\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n\n      return itemList;\n    }\n  })), __jsx(_JSXStyle, {\n    id: \"3050782061\"\n  }, [\".list-inner.jsx-3050782061{padding:20px;display:inline-block;width:100%;}\", \".list-load.jsx-3050782061,.list-error.jsx-3050782061{width:100%;height:200px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;font-size:40px;text-align:center;}\", \".list-error.jsx-3050782061 span.jsx-3050782061{font-size:78px;}\"]));\n}","map":null,"metadata":{},"sourceType":"module"}